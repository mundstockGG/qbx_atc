<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ATC Console â€” Demo Preview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    --bg: rgba(15,15,20,.92);
    --card: rgba(0,0,0,.22);
    --stroke: rgba(255,255,255,.08);
    --text: #e9eff3;
    --muted: #cfd8dc;
    --btn: #2a2f3a;
    --btn-hover: #343b49;
    --green: #1b5e20;
    --blue: #0d47a1;
    --shadow: rgba(0,0,0,.6);
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font: 14px/1.4 system-ui, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
    color: var(--text);
    display: grid;
    place-items: center;

    /* ==== Blurred full-page background image (overrides old gradient) ==== */
    position: relative;                 /* create stacking context */
    background: #05070d !important;     /* neutral base behind the image */
    overflow: hidden;                    /* avoid blur edges showing scrollbars */
    transition: filter .2s ease;
  }

  /* Background image layer */
  body::before {
    content: "";
    position: fixed;                    /* stick to the viewport */
    inset: 0;
    z-index: 0;                         /* behind the UI, above body bg */
    background:
      url("https://img.gta5-mods.com/q95/images/l-s-i-a-air-traffic-control-tower-interior-adam_2000/7148ef-ATC%20Interior%205.jpg")
      center / cover no-repeat fixed;
    filter: blur(1px);                 /* blur it */
    transform: scale(1.06);             /* expand so blur edges don't show */
    transition: filter .3s ease, opacity .3s ease;
  }

  /* Soft vignette/overlay for readability */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    background:
      radial-gradient(1000px 600px at 60% 35%, rgba(5,10,20,.35), rgba(5,7,13,.75) 55%, rgba(3,5,10,.92) 100%);
    pointer-events: none;
  }

  /* Cinematic mode: keep the toggle meaningful by slightly changing rendering */
  body.cinematic {
    filter: saturate(0.9) contrast(1.05);
  }
  body.cinematic::before {
    filter: blur(1px) saturate(.9) contrast(1.05);
  }

  .ui {
    width: min(740px, 92vw);
    max-height: 86vh;
    background: var(--bg);
    border: 1px solid var(--stroke);
    border-radius: 14px;
    box-shadow: 0 18px 60px var(--shadow);
    padding: 12px;
    display: grid;
    grid-template-rows: auto auto 1fr auto;
    gap: 10px;
    position: relative;  /* sits above bg layers */
    z-index: 1;
  }
  .ui.hidden { opacity: .06; pointer-events: none; user-select: none; }

  header {
    display: flex; align-items: center; justify-content: space-between;
  }
  header .logo {
    height: 28px; width: auto; display: block;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,.4));
  }
  header .right { display: flex; gap: 8px; }

  button {
    background: var(--btn);
    color: var(--text);
    border: 1px solid #42495a;
    padding: 8px 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: background .15s ease, transform .02s ease;
  }
  button:hover { background: var(--btn-hover); }
  button:active { transform: translateY(1px); }

  .controls {
    display: flex; gap: 8px; flex-wrap: wrap;
  }

  .planes {
    background: rgba(255,255,255,.04);
    border: 1px solid var(--stroke);
    border-radius: 10px;
    padding: 10px;
    display: grid; grid-template-rows: auto 1fr;
    overflow: hidden;
  }
  .planes h2 { margin: 0 0 8px 0; font-size: 15px; letter-spacing: .2px; color: #e4edf7; }
  #list { display: grid; gap: 8px; overflow: auto; padding-right: 4px; }

  .card {
    display: flex; align-items: center; justify-content: space-between;
    background: var(--card);
    border: 1px solid var(--stroke);
    border-radius: 10px;
    padding: 10px;
  }
  .meta { display: flex; align-items: center; gap: 10px; }
  .id { font-weight: 700; letter-spacing: .3px; }

  .badge {
    padding: 2px 8px; border-radius: 999px; font-size: 12px; font-weight: 600;
    text-transform: uppercase; letter-spacing: .3px;
  }
  .badge.arrival { background: var(--green); }
  .badge.departure { background: var(--blue); }

  .sub { color: var(--muted); font-size: 12px; }

  .actions { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }

  footer {
    display: flex; align-items: center; justify-content: space-between; gap: 8px;
    color: var(--muted);
  }
  .left-foot { display: flex; align-items: center; gap: 8px; }
  .dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: #3ddc84; box-shadow: 0 0 8px rgba(61,220,132,.6);
  }

  .pill {
    display: inline-flex;             /* center vertically & horizontally */
    align-items: center;
    justify-content: center;
    height: 28px;                     /* consistent height */
    padding: 0 10px;                  /* horizontal padding only */
    border-radius: 999px;
    border: 1px solid var(--stroke);
    background: rgba(255,255,255,.03);
    color: var(--muted);
    font-size: 12px;
    line-height: 1;                   /* avoid baseline shift */
    white-space: nowrap;              /* keep on one line */
  }

  .toolbar {
    display: flex; gap: 6px; flex-wrap: wrap;
  }
  .toolbar .count { opacity: .9; }

  .divider {
    height: 1px; background: var(--stroke); margin: 4px 0 2px;
  }

  /* tiny scrollbars */
  #list::-webkit-scrollbar { width: 8px; }
  #list::-webkit-scrollbar-thumb { background: rgba(255,255,255,.1); border-radius: 8px; }

  /* demo banner */
  .demo {
    position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
    font-size: 11px; color: #9bb1c6; letter-spacing: .4px;
    opacity: .85; user-select: none;
  }
</style>

</head>
<body class="cinematic">
  <div id="app" class="ui">
    <div class="demo pill">Los Santos: International Airport</div>
    <header>
      <img class="logo" src="https://static.wikia.nocookie.net/rde/images/b/b8/LSIA-logo-GTAV.png/revision/latest?cb=20160124223133" alt="LSIA Logo">
      <div class="right">
        <button id="btnCine">Normal View</button>
        <button id="btnHide">Hide UI</button>
        <button id="btnClose">Close</button>
      </div>
    </header>

    <section class="controls">
      <button id="btnArr" style="display: none;">Spawn Arrival</button>
      <button id="btnDep" style="display: none;">Spawn Departure</button>
      <div class="toolbar">
        <span class="pill">Max Controllers: 20</span>
        <span class="pill">Pay: ðŸ›¬ $250 / ðŸ›« $300</span>
        <span class="pill count" id="countPill">Traffic: 0</span>
      </div>
    </section>

    <section class="planes">
      <h2>Traffic</h2>
      <div id="list"></div>
    </section>

    <footer>
      <div class="left-foot">
        <span class="dot" id="statusDot" title="Cinematic On"></span>
        <small id="status">Cinematic: ON</small>
      </div>

    </footer>
  </div>

  <script>
    // --- Demo helpers (no FiveM/NUI) ---
    const $ = q => document.querySelector(q);
    const list = $('#list');
    const statusEl = $('#status');
    const statusDot = $('#statusDot');
    const btnCine = $('#btnCine');
    const app = $('#app');
    const countPill = $('#countPill');
    let hidden = false;
    let cinematic = true;
    let nextId = 1000;

    // Demo store
    const planes = new Map(); // id -> { id, kind, state }

    function updateCount() {
      countPill.textContent = `Traffic: ${planes.size}`;
    }

    function badge(kind) {
      const span = document.createElement('span');
      span.className = `badge ${kind}`;
      span.textContent = kind;
      return span;
    }

    function removeCard(id) {
      const el = document.getElementById(`plane-${id}`);
      if (el) el.remove();
      planes.delete(id);
      updateCount();
    }

    function setStatus(txt, isCinematic) {
      statusEl.textContent = `Cinematic: ${isCinematic ? 'ON' : 'OFF'}`;
      statusDot.style.background = isCinematic ? '#3ddc84' : '#f5a524';
      statusDot.style.boxShadow = isCinematic
        ? '0 0 8px rgba(61,220,132,.6)'
        : '0 0 8px rgba(245,165,36,.6)';
      btnCine.textContent = isCinematic ? 'Normal View' : 'Cinematic';
    }

    function addPlaneCard(netId, kind, info = {}) {
      planes.set(netId, { id: netId, kind, state: 'spawned', ...info });
      updateCount();

      const card = document.createElement('div');
      card.className = 'card';
      card.id = `plane-${netId}`;

      const left = document.createElement('div');
      left.className = 'meta';
      const idSpan = document.createElement('span');
      idSpan.className = 'id';
      idSpan.textContent = `#${netId}`;
      const sub = document.createElement('span');
      sub.className = 'sub';
      sub.textContent = kind === 'arrival' ? 'Inbound Â· Awaiting clearance' : 'Gate Â· Ready for taxi';
      left.append(idSpan, badge(kind), sub);

      const right = document.createElement('div');
      right.className = 'actions';

      if (kind === 'arrival') {
        const land = button('Clear to Land', () => {
          toast(`Plane #${netId}: cleared to land.`);
          sub.textContent = 'Landing Â· Taxi next';
        });
        const taxi = button('Taxi to Hangar', () => {
          sub.textContent = 'Taxiing to hangar...';
          toast(`Plane #${netId}: taxi to hangar.`);
          // simulate completion
          setTimeout(() => {
            toast(`Arrival complete +$250`);
            removeCard(netId);
          }, 1800);
        });
        const hold = button('Hold', () => {
          sub.textContent = 'Holding position';
          toast(`Plane #${netId}: hold.`);
        });
        right.append(land, taxi, hold);
      } else {
        const hold = button('Hold', () => {
          sub.textContent = 'Holding at gate';
          toast(`Plane #${netId}: hold.`);
        });
        const takeoff = button('Clear Takeoff', () => {
          sub.textContent = 'Rolling Â· Takeoff...';
          toast(`Plane #${netId}: cleared for takeoff.`);
          setTimeout(() => {
            toast(`Departure complete +$300`);
            removeCard(netId);
          }, 1800);
        });
        right.append(hold, takeoff);
      }

      card.append(left, right);
      list.prepend(card);
    }

    function button(text, onClick) {
      const b = document.createElement('button');
      b.textContent = text;
      b.addEventListener('click', (e) => {
        e.stopPropagation();
        onClick();
      });
      return b;
    }

    // light toast (in-place)
    let toastTimer;
    function toast(msg) {
      clearTimeout(toastTimer);
      let t = document.getElementById('toast');
      if (!t) {
        t = document.createElement('div');
        t.id = 'toast';
        t.style.position = 'fixed';
        t.style.bottom = '18px';
        t.style.left = '50%';
        t.style.transform = 'translateX(-50%)';
        t.style.background = 'rgba(20,25,32,.95)';
        t.style.border = '1px solid rgba(255,255,255,.1)';
        t.style.padding = '10px 12px';
        t.style.borderRadius = '10px';
        t.style.color = '#e9eff3';
        t.style.boxShadow = '0 10px 40px rgba(0,0,0,.5)';
        t.style.fontSize = '13px';
        t.style.pointerEvents = 'none';
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.opacity = '1';
      toastTimer = setTimeout(() => t.style.opacity = '0', 1200);
    }

    // Controls
    $('#btnArr').addEventListener('click', () => addPlaneCard(++nextId, 'arrival'));
    $('#btnDep').addEventListener('click', () => addPlaneCard(++nextId, 'departure'));

    $('#btnHide').addEventListener('click', () => {
      hidden = !hidden;
      app.classList.toggle('hidden', hidden);
    });

    $('#btnClose').addEventListener('click', () => {
      // in-game would close NUI; here we just simulate hide
      toast('Console closed (demo)');
      app.style.display = 'none';
      setTimeout(() => { app.style.display = 'grid'; }, 1200);
    });

    $('#btnCine').addEventListener('click', () => {
      cinematic = !cinematic;
      document.body.classList.toggle('cinematic', cinematic);
      setStatus('', cinematic);
    });

    // Seed some demo planes on load
    function seed() {
      addPlaneCard(++nextId, 'arrival', { airline: 'FlyUS' });
      addPlaneCard(++nextId, 'departure', { airline: 'AirHerler' });
      addPlaneCard(++nextId, 'arrival', { airline: 'Adios Airlines' });
      setStatus('', true);
    }
    seed();

    // Optional: little ambient generator for demo
    setInterval(() => {
      if (planes.size < 5 && Math.random() > 0.55) {
        addPlaneCard(++nextId, Math.random() > 0.5 ? 'arrival' : 'departure');
      }
    }, 4000);
  </script>
</body>
</html>
